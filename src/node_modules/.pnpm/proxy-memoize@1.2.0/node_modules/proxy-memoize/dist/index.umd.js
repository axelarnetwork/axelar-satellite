!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("proxy-compare")):"function"==typeof define&&define.amd?define(["exports","proxy-compare"],r):r((e||self).proxyMemoize={},e.proxyCompare)}(this,function(e,r){var n=function(e){return"object"==typeof e&&null!==e},t=function e(t,o){if(!n(t))return t;var a=r.getUntracked(t);return null!==a?(r.trackMemo(t),a):(o.has(t)||(o.add(t),Object.entries(t).forEach(function(r){var n=r[0],a=r[1],f=e(a,o);Object.is(f,a)||(t[n]=f)})),t)},o=function e(t,o,a){if(n(t)&&n(o)){var f=a.get(r.getUntracked(o)||o);f&&f.forEach(function(r){e(t[r],o[r],a)})}};Object.defineProperty(e,"getUntrackedObject",{enumerable:!0,get:function(){return r.getUntracked}}),Object.defineProperty(e,"replaceNewProxy",{enumerable:!0,get:function(){return r.replaceNewProxy}}),e.default=function(e,n){var a,f=0,i=null!=(a=null==n?void 0:n.size)?a:1,c=[],u=new WeakMap,p=new WeakMap;return function(n){var a,d=r.getUntracked(n)||n,l=u.get(d);if(l)return o(n,l.o,l.a),l.r;for(var s=0;s<i;s+=1){var y=c[(f+s)%i];if(!y)break;if(!r.isChanged(y.o,n,y.a,new WeakMap))return u.set(d,y),o(n,y.o,y.a),y.r}var b=new WeakMap,g=r.createProxy(n,b,p),k=t(e(g),new Set);o(n,n,b);var v=((a={}).o=n,a.r=k,a.a=b,a);return c[f=(f-1+i)%i]=v,u.set(d,v),k}}});
//# sourceMappingURL=index.umd.js.map
