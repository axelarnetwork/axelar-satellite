import { createConnectedWallet, WalletStatus, } from '@terra-money/wallet-types';
import { map } from 'rxjs/operators';
export function toConnectedWallet(controller) {
    return map((states) => {
        if (states.status === WalletStatus.WALLET_CONNECTED) {
            return createConnectedWallet({
                connection: states.connection,
                network: states.network,
                wallets: states.wallets,
                post: controller.post,
                sign: controller.sign,
                signBytes: controller.signBytes,
                supportFeatures: states.supportFeatures,
                status: states.status,
            });
        }
        return undefined;
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9Db25uZWN0ZWRXYWxsZXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQHRlcnJhLW1vbmV5L3dhbGxldC1jb250cm9sbGVyL29wZXJhdG9ycy90b0Nvbm5lY3RlZFdhbGxldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwscUJBQXFCLEVBRXJCLFlBQVksR0FDYixNQUFNLDJCQUEyQixDQUFDO0FBRW5DLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUdyQyxNQUFNLFVBQVUsaUJBQWlCLENBQy9CLFVBQTRCO0lBRTVCLE9BQU8sR0FBRyxDQUE0QyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQy9ELElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxZQUFZLENBQUMsZ0JBQWdCLEVBQUU7WUFDbkQsT0FBTyxxQkFBcUIsQ0FBQztnQkFDM0IsVUFBVSxFQUFFLE1BQU0sQ0FBQyxVQUFVO2dCQUM3QixPQUFPLEVBQUUsTUFBTSxDQUFDLE9BQU87Z0JBQ3ZCLE9BQU8sRUFBRSxNQUFNLENBQUMsT0FBTztnQkFDdkIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJO2dCQUNyQixJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7Z0JBQ3JCLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUztnQkFDL0IsZUFBZSxFQUFFLE1BQU0sQ0FBQyxlQUFlO2dCQUN2QyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07YUFDdEIsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb25uZWN0ZWRXYWxsZXQsXG4gIGNyZWF0ZUNvbm5lY3RlZFdhbGxldCxcbiAgV2FsbGV0U3RhdGVzLFxuICBXYWxsZXRTdGF0dXMsXG59IGZyb20gJ0B0ZXJyYS1tb25leS93YWxsZXQtdHlwZXMnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgV2FsbGV0Q29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9Db25uZWN0ZWRXYWxsZXQoXG4gIGNvbnRyb2xsZXI6IFdhbGxldENvbnRyb2xsZXIsXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFdhbGxldFN0YXRlcywgQ29ubmVjdGVkV2FsbGV0IHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBtYXA8V2FsbGV0U3RhdGVzLCBDb25uZWN0ZWRXYWxsZXQgfCB1bmRlZmluZWQ+KChzdGF0ZXMpID0+IHtcbiAgICBpZiAoc3RhdGVzLnN0YXR1cyA9PT0gV2FsbGV0U3RhdHVzLldBTExFVF9DT05ORUNURUQpIHtcbiAgICAgIHJldHVybiBjcmVhdGVDb25uZWN0ZWRXYWxsZXQoe1xuICAgICAgICBjb25uZWN0aW9uOiBzdGF0ZXMuY29ubmVjdGlvbixcbiAgICAgICAgbmV0d29yazogc3RhdGVzLm5ldHdvcmssXG4gICAgICAgIHdhbGxldHM6IHN0YXRlcy53YWxsZXRzLFxuICAgICAgICBwb3N0OiBjb250cm9sbGVyLnBvc3QsXG4gICAgICAgIHNpZ246IGNvbnRyb2xsZXIuc2lnbixcbiAgICAgICAgc2lnbkJ5dGVzOiBjb250cm9sbGVyLnNpZ25CeXRlcyxcbiAgICAgICAgc3VwcG9ydEZlYXR1cmVzOiBzdGF0ZXMuc3VwcG9ydEZlYXR1cmVzLFxuICAgICAgICBzdGF0dXM6IHN0YXRlcy5zdGF0dXMsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSk7XG59XG4iXX0=