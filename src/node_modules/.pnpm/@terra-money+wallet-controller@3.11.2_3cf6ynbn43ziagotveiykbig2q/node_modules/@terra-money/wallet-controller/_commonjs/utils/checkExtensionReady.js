"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkExtensionReady = void 0;
const interval = 500;
async function checkExtensionReady(timeout, isChromeExtensionCompatibleBrowser) {
    return new Promise((resolve) => {
        if (isChromeExtensionCompatibleBrowser) {
            resolve(true);
            return;
        }
        const start = Date.now();
        function check() {
            if (window.isTerraExtensionAvailable === true ||
                Array.isArray(window.terraWallets)) {
                resolve(true);
            }
            else if (Date.now() > start + timeout) {
                resolve(false);
            }
            else {
                setTimeout(check, interval);
            }
        }
        setTimeout(check, interval);
    });
}
exports.checkExtensionReady = checkExtensionReady;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tFeHRlbnNpb25SZWFkeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AdGVycmEtbW9uZXkvd2FsbGV0LWNvbnRyb2xsZXIvdXRpbHMvY2hlY2tFeHRlbnNpb25SZWFkeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUM7QUFRZCxLQUFLLFVBQVUsbUJBQW1CLENBQ3ZDLE9BQWUsRUFDZixrQ0FBMkM7SUFFM0MsT0FBTyxJQUFJLE9BQU8sQ0FBVSxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQ3RDLElBQUksa0NBQWtDLEVBQUU7WUFDdEMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2QsT0FBTztTQUNSO1FBRUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBRXpCLFNBQVMsS0FBSztZQUNaLElBQ0UsTUFBTSxDQUFDLHlCQUF5QixLQUFLLElBQUk7Z0JBQ3pDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUNsQztnQkFDQSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDZjtpQkFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsT0FBTyxFQUFFO2dCQUN2QyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDaEI7aUJBQU07Z0JBQ0wsVUFBVSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQzthQUM3QjtRQUNILENBQUM7UUFFRCxVQUFVLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQTNCRCxrREEyQkMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRlcnZhbCA9IDUwMDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBpc1RlcnJhRXh0ZW5zaW9uQXZhaWxhYmxlOiBib29sZWFuO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0V4dGVuc2lvblJlYWR5KFxuICB0aW1lb3V0OiBudW1iZXIsXG4gIGlzQ2hyb21lRXh0ZW5zaW9uQ29tcGF0aWJsZUJyb3dzZXI6IGJvb2xlYW4sXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGlzQ2hyb21lRXh0ZW5zaW9uQ29tcGF0aWJsZUJyb3dzZXIpIHtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHdpbmRvdy5pc1RlcnJhRXh0ZW5zaW9uQXZhaWxhYmxlID09PSB0cnVlIHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkod2luZG93LnRlcnJhV2FsbGV0cylcbiAgICAgICkge1xuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChEYXRlLm5vdygpID4gc3RhcnQgKyB0aW1lb3V0KSB7XG4gICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChjaGVjaywgaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcbiAgfSk7XG59XG4iXX0=