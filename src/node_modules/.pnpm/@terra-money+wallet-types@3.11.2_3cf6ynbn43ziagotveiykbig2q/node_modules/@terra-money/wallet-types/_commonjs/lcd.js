"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createLCDClient = void 0;
const terra_js_1 = require("@terra-money/terra.js");
const clients = new Map();
function createLCDClient({ lcdClientConfig, network, }) {
    const clientConfig = {
        URL: network.lcd,
        chainID: network.chainID,
        ...(typeof lcdClientConfig === 'function'
            ? lcdClientConfig(network)
            : lcdClientConfig
                ? lcdClientConfig
                : {}),
    };
    const cacheKey = JSON.stringify(clientConfig);
    if (clients.has(cacheKey)) {
        return clients.get(cacheKey);
    }
    const lcdClient = new terra_js_1.LCDClient(clientConfig);
    clients.set(cacheKey, lcdClient);
    return lcdClient;
}
exports.createLCDClient = createLCDClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGNkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL0B0ZXJyYS1tb25leS93YWxsZXQtdHlwZXMvbGNkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG9EQUFtRTtBQVduRSxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBcUIsQ0FBQztBQUU3QyxTQUFnQixlQUFlLENBQUMsRUFDOUIsZUFBZSxFQUNmLE9BQU8sR0FDQTtJQUNQLE1BQU0sWUFBWSxHQUFvQjtRQUNwQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUc7UUFDaEIsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPO1FBQ3hCLEdBQUcsQ0FBQyxPQUFPLGVBQWUsS0FBSyxVQUFVO1lBQ3ZDLENBQUMsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDO1lBQzFCLENBQUMsQ0FBQyxlQUFlO2dCQUNqQixDQUFDLENBQUMsZUFBZTtnQkFDakIsQ0FBQyxDQUFDLEVBQUUsQ0FBQztLQUNSLENBQUM7SUFFRixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRTlDLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN6QixPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFFLENBQUM7S0FDL0I7SUFFRCxNQUFNLFNBQVMsR0FBRyxJQUFJLG9CQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFOUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFFakMsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQztBQXpCRCwwQ0F5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMQ0RDbGllbnQsIExDRENsaWVudENvbmZpZyB9IGZyb20gJ0B0ZXJyYS1tb25leS90ZXJyYS5qcyc7XG5pbXBvcnQgeyBOZXR3b3JrSW5mbyB9IGZyb20gJy4vdHlwZXMnO1xuXG50eXBlIENvbmZpZyA9IE9taXQ8TENEQ2xpZW50Q29uZmlnLCAnVVJMJyB8ICdjaGFpbklEJz47XG5leHBvcnQgdHlwZSBXYWxsZXRMQ0RDbGllbnRDb25maWcgPSBDb25maWcgfCAoKG5ldHdvcms6IE5ldHdvcmtJbmZvKSA9PiBDb25maWcpO1xuXG5pbnRlcmZhY2UgUGFyYW1zIHtcbiAgbGNkQ2xpZW50Q29uZmlnPzogV2FsbGV0TENEQ2xpZW50Q29uZmlnO1xuICBuZXR3b3JrOiBOZXR3b3JrSW5mbztcbn1cblxuY29uc3QgY2xpZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBMQ0RDbGllbnQ+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMQ0RDbGllbnQoe1xuICBsY2RDbGllbnRDb25maWcsXG4gIG5ldHdvcmssXG59OiBQYXJhbXMpOiBMQ0RDbGllbnQge1xuICBjb25zdCBjbGllbnRDb25maWc6IExDRENsaWVudENvbmZpZyA9IHtcbiAgICBVUkw6IG5ldHdvcmsubGNkLFxuICAgIGNoYWluSUQ6IG5ldHdvcmsuY2hhaW5JRCxcbiAgICAuLi4odHlwZW9mIGxjZENsaWVudENvbmZpZyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBsY2RDbGllbnRDb25maWcobmV0d29yaylcbiAgICAgIDogbGNkQ2xpZW50Q29uZmlnXG4gICAgICA/IGxjZENsaWVudENvbmZpZ1xuICAgICAgOiB7fSksXG4gIH07XG5cbiAgY29uc3QgY2FjaGVLZXkgPSBKU09OLnN0cmluZ2lmeShjbGllbnRDb25maWcpO1xuXG4gIGlmIChjbGllbnRzLmhhcyhjYWNoZUtleSkpIHtcbiAgICByZXR1cm4gY2xpZW50cy5nZXQoY2FjaGVLZXkpITtcbiAgfVxuXG4gIGNvbnN0IGxjZENsaWVudCA9IG5ldyBMQ0RDbGllbnQoY2xpZW50Q29uZmlnKTtcblxuICBjbGllbnRzLnNldChjYWNoZUtleSwgbGNkQ2xpZW50KTtcblxuICByZXR1cm4gbGNkQ2xpZW50O1xufVxuIl19