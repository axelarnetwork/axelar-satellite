import { LCDClient } from '@terra-money/terra.js';
const clients = new Map();
export function createLCDClient({ lcdClientConfig, network, }) {
    const clientConfig = {
        URL: network.lcd,
        chainID: network.chainID,
        ...(typeof lcdClientConfig === 'function'
            ? lcdClientConfig(network)
            : lcdClientConfig
                ? lcdClientConfig
                : {}),
    };
    const cacheKey = JSON.stringify(clientConfig);
    if (clients.has(cacheKey)) {
        return clients.get(cacheKey);
    }
    const lcdClient = new LCDClient(clientConfig);
    clients.set(cacheKey, lcdClient);
    return lcdClient;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGNkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL0B0ZXJyYS1tb25leS93YWxsZXQtdHlwZXMvbGNkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQW1CLE1BQU0sdUJBQXVCLENBQUM7QUFXbkUsTUFBTSxPQUFPLEdBQUcsSUFBSSxHQUFHLEVBQXFCLENBQUM7QUFFN0MsTUFBTSxVQUFVLGVBQWUsQ0FBQyxFQUM5QixlQUFlLEVBQ2YsT0FBTyxHQUNBO0lBQ1AsTUFBTSxZQUFZLEdBQW9CO1FBQ3BDLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRztRQUNoQixPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU87UUFDeEIsR0FBRyxDQUFDLE9BQU8sZUFBZSxLQUFLLFVBQVU7WUFDdkMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUM7WUFDMUIsQ0FBQyxDQUFDLGVBQWU7Z0JBQ2pCLENBQUMsQ0FBQyxlQUFlO2dCQUNqQixDQUFDLENBQUMsRUFBRSxDQUFDO0tBQ1IsQ0FBQztJQUVGLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFOUMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pCLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUUsQ0FBQztLQUMvQjtJQUVELE1BQU0sU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRTlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRWpDLE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMQ0RDbGllbnQsIExDRENsaWVudENvbmZpZyB9IGZyb20gJ0B0ZXJyYS1tb25leS90ZXJyYS5qcyc7XG5pbXBvcnQgeyBOZXR3b3JrSW5mbyB9IGZyb20gJy4vdHlwZXMnO1xuXG50eXBlIENvbmZpZyA9IE9taXQ8TENEQ2xpZW50Q29uZmlnLCAnVVJMJyB8ICdjaGFpbklEJz47XG5leHBvcnQgdHlwZSBXYWxsZXRMQ0RDbGllbnRDb25maWcgPSBDb25maWcgfCAoKG5ldHdvcms6IE5ldHdvcmtJbmZvKSA9PiBDb25maWcpO1xuXG5pbnRlcmZhY2UgUGFyYW1zIHtcbiAgbGNkQ2xpZW50Q29uZmlnPzogV2FsbGV0TENEQ2xpZW50Q29uZmlnO1xuICBuZXR3b3JrOiBOZXR3b3JrSW5mbztcbn1cblxuY29uc3QgY2xpZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBMQ0RDbGllbnQ+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMQ0RDbGllbnQoe1xuICBsY2RDbGllbnRDb25maWcsXG4gIG5ldHdvcmssXG59OiBQYXJhbXMpOiBMQ0RDbGllbnQge1xuICBjb25zdCBjbGllbnRDb25maWc6IExDRENsaWVudENvbmZpZyA9IHtcbiAgICBVUkw6IG5ldHdvcmsubGNkLFxuICAgIGNoYWluSUQ6IG5ldHdvcmsuY2hhaW5JRCxcbiAgICAuLi4odHlwZW9mIGxjZENsaWVudENvbmZpZyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBsY2RDbGllbnRDb25maWcobmV0d29yaylcbiAgICAgIDogbGNkQ2xpZW50Q29uZmlnXG4gICAgICA/IGxjZENsaWVudENvbmZpZ1xuICAgICAgOiB7fSksXG4gIH07XG5cbiAgY29uc3QgY2FjaGVLZXkgPSBKU09OLnN0cmluZ2lmeShjbGllbnRDb25maWcpO1xuXG4gIGlmIChjbGllbnRzLmhhcyhjYWNoZUtleSkpIHtcbiAgICByZXR1cm4gY2xpZW50cy5nZXQoY2FjaGVLZXkpITtcbiAgfVxuXG4gIGNvbnN0IGxjZENsaWVudCA9IG5ldyBMQ0RDbGllbnQoY2xpZW50Q29uZmlnKTtcblxuICBjbGllbnRzLnNldChjYWNoZUtleSwgbGNkQ2xpZW50KTtcblxuICByZXR1cm4gbGNkQ2xpZW50O1xufVxuIl19